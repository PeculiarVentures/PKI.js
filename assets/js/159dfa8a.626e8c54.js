"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4343],{16461:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>k,frontMatter:()=>c,metadata:()=>l,toc:()=>u});var s=n(85893),i=n(11151),a=n(9286);const r='import * as pkijs from \'pkijs\';\nimport * as asn1js from \'asn1js\';\n\n// Get a "crypto" extension\nconst crypto = pkijs.getCrypto(true);\n\nconst pkcs10 = new pkijs.CertificationRequest();\n\npkcs10.subject.typesAndValues.push(new pkijs.AttributeTypeAndValue({\n  type: "2.5.4.3",\n  value: new asn1js.Utf8String({ value: "Test" })\n}));\n\nawait pkcs10.subjectPublicKeyInfo.importKey(keys.publicKey);\n\npkcs10.attributes = [];\n\n// Subject Alternative Name\nconst altNames = new pkijs.GeneralNames({\n  names: [\n    new pkijs.GeneralName({ // email\n      type: 1,\n      value: "email@address.com"\n    }),\n    new pkijs.GeneralName({ // domain\n      type: 2,\n      value: "www.domain.com"\n    }),\n  ]\n});\n\n// SubjectKeyIdentifier\nconst subjectKeyIdentifier = await crypto.digest({ name: "SHA-1" }, pkcs10.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex);\n\npkcs10.attributes.push(new pkijs.Attribute({\n  type: "1.2.840.113549.1.9.14", // pkcs-9-at-extensionRequest\n  values: [(new pkijs.Extensions({\n    extensions: [\n      new pkijs.Extension({\n        extnID: "2.5.29.14", // id-ce-subjectKeyIdentifier\n        critical: false,\n        extnValue: (new asn1js.OctetString({ valueHex: subjectKeyIdentifier })).toBER(false)\n      }),\n      new pkijs.Extension({\n        extnID: "2.5.29.17", // id-ce-subjectAltName\n        critical: false,\n        extnValue: altNames.toSchema().toBER(false)\n      }),\n      new pkijs.Extension({\n        extnID: "1.2.840.113549.1.9.7", // pkcs-9-at-challengePassword\n        critical: false,\n        extnValue: (new asn1js.PrintableString({ value: "passwordChallenge" })).toBER(false)\n      })\n    ]\n  })).toSchema()]\n}));\n\n// Signing final PKCS#10 request\nawait pkcs10.sign(keys.privateKey, "SHA-256");\n\nconst pkcs10Raw = pkcs10.toSchema(true).toBER();\n',c={},o="Working with certificate requests",l={id:"examples/certificates-and-revocation/working-with-certificate-requests",title:"Working with certificate requests",description:"In this example, you will see how to create a CSR, parse it and verify its signature.",source:"@site/docs/examples/certificates-and-revocation/working-with-certificate-requests.mdx",sourceDirName:"examples/certificates-and-revocation",slug:"/examples/certificates-and-revocation/working-with-certificate-requests",permalink:"/docs/examples/certificates-and-revocation/working-with-certificate-requests",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"examples",previous:{title:"Working with OCSP responses",permalink:"/docs/examples/certificates-and-revocation/working-with-OCSP-responses"},next:{title:"Other",permalink:"/docs/examples/other/"}},p={},u=[];function w(e){const t={h1:"h1",p:"p",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"working-with-certificate-requests",children:"Working with certificate requests"}),"\n",(0,s.jsx)(t.p,{children:"In this example, you will see how to create a CSR, parse it and verify its signature."}),"\n",(0,s.jsx)(a.Z,{language:"ts",children:r})]})}function k(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(w,{...e})}):w(e)}}}]);